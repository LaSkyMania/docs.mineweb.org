<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>MineWeb docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://mineweb.org'>Retour sur mineweb.org</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation powered by Slate</a></li>
          <li style="position: absolute;bottom: 10px;font-size: 0.85em;"><a href="#" onClick="activeRightExample(this)">Passer le code à droite de l'écran</a></li>
          <script type="text/javascript">
            function activeRightExample (e) {
              var link = document.createElement('link')
              link.setAttribute('rel', 'stylesheet')
              link.setAttribute('type', 'text/css')
              link.setAttribute('id', 'examples-right')
              link.setAttribute('href', 'stylesheets/examples-right.css')
              document.getElementsByTagName('head')[0].appendChild(link)

              e.setAttribute('onClick', 'desactiveRightExample(this)')
              e.innerHTML = "Remettre l'affichage par défaut"
            }
            function desactiveRightExample (e) {
              var link = document.getElementById('examples-right').remove()

              e.setAttribute('onClick', 'activeRightExample(this)')
              e.innerHTML = "Passer le code à droite de l'écran"
            }
          </script>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<h2 id="c-39-est-quoi-mineweb">C&#39;est quoi MineWeb ?</h2>

<p>MineWeb est un <strong>CMS</strong>. Un CMS est un système de gestion de contenu. Plus précisément il vous permet de vous créer rapidement et facilement un site complètement personnalisable. MineWeb est la version 2 de l&#39;ancien CMS <strong>LapisCraft</strong> de Eywek. Celui-ci n&#39;étant plus stable et mal développé (cf. raisons <a href="http://eywek.fr/lc-explications.pdf">ici</a>).</p>

<p>MineWeb est développé sous un framework PHP nommé <strong>CakePHP</strong> permettant un développement plus <strong>rapide</strong>, <strong>sécurisé</strong> et <strong>optimisé</strong>. Le projet a été lancé il y a maintenant plus d&rsquo;<strong>1 an</strong> en compagnie de <strong>Mac&rsquo;</strong> permettant de convenir entièrement à <strong>vos besoins</strong>.</p>

<h2 id="pr-requis">Pré-requis</h2>

<aside class="alert alert-info"><strong>Hébergeur compatible :</strong> L'hébergeur <a href= "http://revolta-hosting.fr">Revolta-Hosting</a> est 100% <strong>compatible</strong> avec notre CMS !</aside>

<p>Pour installer le CMS MineWeb votre hébergeur <strong>doit</strong> avoir :</p>

<ul>
<li>  Version PHP supérieure ou égale à 5.4 (&lt; 7.0.0)</li>
<li>  PDO activé</li>
<li>  cURL activé</li>
<li>  Réécriture d&#39;URL</li>
<li>  .htaccess activés</li>
<li>  La librairie GD2</li>
<li>  La possibilité d&#39;ouvrir un zip</li>
<li>  La possibilité d&#39;ouvrir un site à distance</li>
<li>  ionCube Loader version 5.4</li>
<li>  OpenSSL</li>
</ul>

<p>Pour plus de simplicité vous pouvez télécharger le <strong>fichier de compatibilité</strong> <a href="http://mineweb.org/files/compatibilite.zip">ici</a>. Vous avez juste à extraire cette archive sur votre FTP pour voir si votre hébergeur est compatible.</p>

<h2 id="licence-h-berg-e-mineweb">Licence hébergée MineWeb</h2>

<p>Vous ne souhaitez pas vous embêter à chercher un <strong>hébergeur compatible</strong> ? Alors n&#39;attendez plus et utilisez <strong>nos licences hébergées</strong>, votre licence sera installée <strong>automatiquement</strong> et <strong>sans aucun effort</strong>. Tous les prix et informations sont disponibles <a href="http://mineweb.org/download">ici</a>.</p>

          <h1 id="installation">Installation</h1>

<aside class="alert alert-info">
<h3>Informations</h3>
<p>Vous devez placer tout le contenu de l'archive téléchargée sur votre espace membre, sur votre hébergeur (les fichiers .DS_Store & \__MACOSX sont inutiles). Il faut ensuite appliquer les permissions 755 ou 775 sur tous les fichiers (pour permettre les mises à jour). Puis rendez-vous sur sur http://{votre site}/install</p>
</aside>

<h2 id="tape-1-configuration-de-la-base-de-donn-es">Étape 1 - Configuration de la base de données</h2>

<p><strong>Sautez cette étape si vous utilisez l&#39;hébergeur MineWeb</strong></p>

<p>Vous devez avoir une page demandant vos identifiants de base de données, vous devez entrez ceux-ci et tester la connexion, puis il vous faudra cliquer sur un bouton qui installera la base de données automatiquement.</p>

<h2 id="tape-2-mise-en-place-de-la-licence">Étape 2 - Mise en place de la licence</h2>

<p>Une fois la connexion à la base de données effectuée, le CMS vous demandera alors votre clé d&#39;activation. Celle-ci est disponible sur votre <a href="http://mineweb.org/user/profile">profil</a>.
Si vous obtenez des erreurs, voici leurs explications et résolutions.</p>

<table><thead>
<tr>
<th>Erreur</th>
<th>Explication</th>
<th>Résolution</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">Licence inconnue</code></td>
<td>Votre licence n&#39;est pas trouvée dans notre base de données</td>
<td>Téléchargez à nouveau les fichiers du CMS</td>
</tr>
<tr>
<td><code class="prettyprint">Site d&#39;installation non valide</code></td>
<td>L&#39;URL que vous utilisez pour accèder à votre site ne correspond pas à celle configurée</td>
<td>Rendez-vous sur votre <a href="http://mineweb.org/user/profile">profil</a> et changez l&#39;URL de votre licence</td>
</tr>
<tr>
<td><code class="prettyprint">Licence désactivée</code></td>
<td>La licence n&#39;est pas activée</td>
<td>Rendez-vous sur votre <a href="http://mineweb.org/user/profile">profil</a> et réactivez votre licence. Celle-ci peut être désactivée par l&#39;administration si un problème survient, une explication est alors affichée</td>
</tr>
<tr>
<td><code class="prettyprint">L&#39;API de MineWeb.org est temporairement indisponible</code></td>
<td>Le système de vérification de licence n&#39;est pas disponible</td>
<td>Patientez, si ce problème survient nous travaillons à la résolution du problème</td>
</tr>
</tbody></table>

<h2 id="tape-3-cr-ation-de-l-39-administrateur">Étape 3 - Création de l&#39;administrateur</h2>

<p>Voici la troisième et dernière étape de l&#39;installation du CMS, vous allez créer votre compte administrateur qui vous permettra d&#39;accéder au panel admin du CMS. Vous avez juste à remplir les champs qui vous sont présentés et à soumettre vos informations en cliquant sur le bouton &ldquo;Suivant&rdquo;.</p>

<h2 id="installation-termin-e">Installation terminée</h2>

<p>Une fois l&#39;installation du CMS complétée vous pouvez passer à l&#39;utilisation du CMS en lui-même. Pour configurer votre CMS il vous faut vous connecter en cliquant sur le bouton en haut à gauche de la barre de navigation. Vous cliquez sur connexion puis entrez vos informations pour vous connecter. Vous cliquez ensuite sur Panel administrateur, vous serez redirigé et vous pourrez ensuite cliquer sur <em>Général</em> puis <em>Préférences générales</em>.</p>

<h2 id="aide-externe-et-probl-mes-fr-quents">Aide externe et problèmes fréquents</h2>

<h3 id="probl-me-avec-ioncube">Problème avec ionCube</h3>

<p>Il est possible que vous obteniez une erreur dans ce style là :</p>

<p><code class="prettyprint">/app/Controller/Component/UpdateComponent.php cannot be decoded by this version of the ionCube Loader. If you are the administrator of this site then please install the latest version of the ionCube Loader.</code></p>

<p>Cela signifie que votre hébergeur n&#39;a pas installé la bonne version du <em>ionCube Loader</em>, il faut alors voir avec leur support. À noter que la version de PHP ne doit pas être supérieur à la version 7.</p>

<h3 id="probl-me-chez-livehost">Problème chez livehost</h3>

<p>Il est possible que vous obteniez une erreur dans ce style là :</p>

<p><code class="prettyprint">Warning: include(Cake/bootstrap.php): failed to open stream: No such file or directory in</code></p>

<p>Pour résoudre ce problème, rendez-vous dans <em>app/webroot</em>, ouvrez le fichier <em>index.php</em> et allez à la ligne 64</p>

<p><code class="prettyprint">//define(&#39;CAKE_CORE_INCLUDE_PATH&#39;, ROOT . DS . &#39;lib&#39;);</code></p>

<p>Retirez les deux slashs</p>

<p><code class="prettyprint">define(&#39;CAKE_CORE_INCLUDE_PATH&#39;, ROOT . DS . &#39;lib&#39;);</code></p>

<p>Sauvegardez et rechargez la page.</p>

<h3 id="autres">Autres</h3>

<ul>
<li>Si vous avez besoin d&#39;aide, si vous rencontrez un problème non répertorié ici, vous pouvez nous contacter sur le <a href="http://mineweb.org/support">support</a>.</li>
</ul>

          <h1 id="lier-serveur-site">Lier serveur-site</h1>

<aside class="alert alert-warning">
  <h3>Compatibilité</h3>
  <p>Les plugins sont compatibles à partir de la version 1.7.10</p>
  <p><small><em>Des problèmes de compatibilité peuvent survenir avec Cauldron.</em></small></p>
</aside>

<aside class="alert alert-info">
  <p><strong>Type de connexion</strong>:  <br>
  - Par défaut : <em>connexion à un serveur lié avec le <a href="http://mineweb.org/files/1.1-mineweb_bukkit.jar">plugin Bukkit/Spigot</a>, permet l’utilisation de toutes les fonctionnalités du CMS (boutique, classement factions, vote…)</em> <br>
  - BungeeCord : <em>connexion à un serveur lié avec le <a href="http://mineweb.org/files/1.0.3-mineweb_bungee.jar">plugin BungeeCord</a>, permet l’utilisation de <strong>certaines fonctionnalités</strong> (affichage des joueurs, commandes, mais la <strong>boutique</strong> et le <strong>classement</strong> factions <strong>ne pourront pas être utilisés</strong> avec ce type de connexion)</em> <br>
  - Ping : <em>connexion à un serveur sans plugin, permet uniquement d’avoir le nombre de joueurs en ligne et le nombre de joueurs maximums (la <strong>boutique</strong> et le <strong>classement</strong> factions <strong>ne pourront pas être utilisés</strong> avec ce type de connexion) </em></p>
</aside>

<h2 id="configuration-pr-alable">Configuration préalable</h2>

<p>Rendez-vous sur la page de liaison site-serveur sur le panel admin de votre CMS.
Vous devez dans un premier temps configurer le temps d’exécution maximum (appelé aussi timeout), il est conseillé de mettre 1 (seconde).</p>

<p><img src="http://pic.eywek.fr/491537.png" /></p>

<aside class="alert alert-info">
Vous avez à côté deux boutons pour désactiver la fonctionnalité (qui mettra automatiquement le statut du serveur à : éteint) si vous ne souhaitez pas utiliser la liaison site-serveur. Et un autre bouton pour activer/désactiver le cache sur la “bannière” (permet que le message affiché sur le site (joueurs connectés, MOTD…) soit stocké pendant quelques minutes permettant d’éviter la surcharge de commande au serveur).
</aside>

<h2 id="liaison-un-serveur-bukkit-spigot">Liaison à un serveur Bukkit/Spigot</h2>

<p>Maintenant nous allons lier votre <strong>serveur Minecraft</strong> au <strong>CMS</strong>. Pour cela vous devez avoir installé sur votre serveur le plugin MineWeb disponible à <a href="http://mineweb.org/files/1.1-mineweb_bukkit.jar">cette adresse</a>.
Une fois le plugin téléchargé, placez-le dans votre dossier <code class="prettyprint">plugins</code> de votre serveur et <strong>redémarrez celui-ci</strong>.
Vous n’avez <strong>pas à toucher à la configuration du plugin</strong>.
Quand votre serveur est en ligne, configurez le port que va utiliser le plugin pour communiquer avec le site, pour cela tapez la commande <code class="prettyprint">/mineweb port PORT</code> en remplaçant bien sûr <code class="prettyprint">__PORT__</code> par un port <strong>disponible</strong>, <strong>non utilisé</strong> et <strong>ouvert</strong>.</p>

<aside class="alert alert-info">
Si vous ne savez pas quel port utiliser, demandez à votre hébergeur Minecraft quels ports sont disponibles. Si vous utilisez un serveur dédié ou un VPS, essayez par exemple des ports comme 4343 ou 26178.
</aside>

<p>Une fois que cette commande est effectuée, tapez <code class="prettyprint">/mineweb setup</code> et rendez-vous sur la page de liaison site-serveur dans le panel admin.</p>

<p>Maintenant que vous avez configuré le serveur vous pouvez <strong>ajouter un serveur</strong> et remplir les informations nécessaires :</p>

<ul>
<li><code class="prettyprint">Type de la connexion</code>, donc mettez <em>Par défaut</em>.</li>
<li><code class="prettyprint">Nom</code> par le nom affiché.</li>
<li><code class="prettyprint">IP</code> par l’ip (ou domaine) sans le port.</li>
<li><code class="prettyprint">Port configuré</code> par le port que vous avez tapé juste avant.</li>
</ul>

<p>Cliquez ensuite sur <em>Connexion</em> pour tester la connexion, si celle-ci échoue, votre <strong>port n’est pas ouvert</strong> ou <strong>non disponible</strong>.</p>

<h2 id="liaison-un-serveur-bungeecord">Liaison à un serveur BungeeCord</h2>

<p>Même processus que pour la liaison Bukkit/Spigot mais avec le <a href="http://mineweb.org/files/1.0.3-mineweb_bungee.jar">plugin BungeeCord</a> et vous devez mettre comme type de connexion <code class="prettyprint">Bungeecord</code>.</p>

<h2 id="liaison-par-ping">Liaison par Ping</h2>

<p>Vous n’avez pas besoin de plugin pour cette liaison, il vous suffit juste de configurer un serveur comme ceci depuis la page de liaison :</p>

<ul>
<li><code class="prettyprint">Type</code> de la connexion, donc mettez <em>Ping</em>.</li>
<li><code class="prettyprint">Nom</code> par le nom affiché.</li>
<li><code class="prettyprint">IP</code> par l’ip (ou domaine) <strong>sans le port</strong>.</li>
<li>Port de votre serveur (25565 par défaut si vous n’avez pas de port).</li>
</ul>

<p>Cliquez ensuite sur <em>Connexion</em> pour tester la connexion.</p>

<h2 id="la-connexion-choue">La connexion échoue</h2>

<p>Dans un premier temps, vérifiez que vous n&#39;avez pas d&rsquo;<strong>erreur dans la console</strong> de votre serveur en rapport avec le plugin MineWeb.</p>

<p>Dans un second temps, vérifiez que le <strong>port</strong> que vous avez configuré est <strong>ouvert</strong> et <strong>non utilisé</strong> (demandez à votre hébergeur Minecraft si vous ne savez pas lequel utiliser).</p>

<p>Ensuite, essayez de <strong>redémarrer votre serveur</strong> juste après avoir fait les commandes, puis testez la connexion à nouveau.</p>

<p>Si la connexion échoue toujours, contactez le <a href="http://mineweb.org/support">support</a> avec un maximum d&#39;explications et d&#39;informations, et répondez à ces questions :</p>

<ul>
<li>Quelle IP avez-vous mis ?</li>
<li>Quel port ?</li>
<li>Comment êtes-vous sûr que le port est ouvert ?</li>
<li>Avez-vous fait toutes les commandes indiquées dans la doc ?</li>
<li>Aucune erreur dans la console ?</li>
<li>Avez-vous essayé de rédemarrer le serveur après avoir fait les commandes ?</li>
</ul>

          <h1 id="cr-er-un-plugin">Créer un plugin</h1>

<h3 id="introduction">Introduction</h3>

<p>Un plugin (aussi appelé <em>extension</em>), est un ensemble de <strong>fichiers</strong> qui sont ajoutés à votre CMS pour y ajouter plusieurs <strong>fonctionnalités</strong> ou modifier certains <strong>comportements</strong> par défaut. Différents plugins “officiels” sont <em>déjà disponibles</em> sur le site de MineWeb. D’autres peuvent être <em>développés par la communauté</em> et c’est le but de ce tutoriel.</p>

<h2 id="cr-ation">Création</h2>

<h3 id="cr-ation-des-fichiers-dossiers">Création des fichiers/dossiers</h3>

<p>Dans un premier temps, il va falloir créer le dossier de votre plugin, ce dossier doit être créé dans le dossier <code class="prettyprint">app/Plugin/</code>. Le nom du dossier doit être le nom de votre plugin.</p>

<p>Par <strong>exemple</strong> si je veux créer un plugin de <strong>boutique</strong>, je vais l’appeler : <strong>Shop</strong>.</p>

<p>Une fois ce dossier créé, il faut créer différents autres dossiers et fichiers :</p>

<ul>
<li><code class="prettyprint">Config/</code></li>
<li><code class="prettyprint">Controller/</code></li>
<li><code class="prettyprint">Controller/Component/</code></li>
<li><code class="prettyprint">Model/</code></li>
<li><code class="prettyprint">Model/Behavior</code></li>
<li><code class="prettyprint">View/</code></li>
<li><code class="prettyprint">View/Helper/</code></li>
<li><code class="prettyprint">View/Layouts</code></li>
<li><code class="prettyprint">lang/</code></li>
<li><code class="prettyprint">SQL/</code></li>
</ul>

<p>C’est tout pour les dossiers, il nous reste maintenant encore des fichiers à créer tels que :</p>

<ul>
<li><code class="prettyprint">Config/bootstrap.php</code></li>
<li><code class="prettyprint">Config/routes.php</code></li>
<li><code class="prettyprint">config.json</code></li>
</ul>

<h3 id="explications-et-configuration">Explications et configuration</h3>

<p>Maintenant que vous avez créé tous ces fichiers, nous allons passer à la configuration de votre plugin. Pour cela, ouvrez le fichier <strong>config.json</strong>, c&#39;est dans ce fichier que toute la configuration sera située.</p>

<blockquote>
<p>Configuration par défaut (à remplir)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"NAME"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="s2">"SLUG"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nav"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_group_menu"</span><span class="p">:</span><span class="s2">"customisation"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_name"</span><span class="p">:</span><span class="s2">"Boutique"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_icon"</span><span class="p">:</span><span class="s2">"shopping-cart"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/admin/shop"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"author"</span><span class="p">:</span><span class="s2">"AUTHOR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"0.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apiID"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"useEvents"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"available"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"default"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"0"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requirements"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"CMS"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 1.1.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Maintenant, vous allez pouvoir configurer. Remplacez <strong>NAME</strong> par le <em>nom de votre plugin</em>, <strong>SLUG</strong> par le <em>nom du dossier</em> et puis <strong>AUTHOR</strong> par votre pseudo.
Ensuite voici une explication des autres lignes :</p>

<ul>
<li><code class="prettyprint">nav</code> : si votre plugin est affiché ou non dans la barre de navigation (<strong>boolean</strong>),</li>
<li><code class="prettyprint">admin</code> : si votre plugin a besoin de fichiers pour l’administrer (<strong>boolean</strong>),</li>
<li><code class="prettyprint">admin_group_menu</code> : si votre plugin a besoin de fichiers pour l’administrer, le nom de la section de liens dans le panel admin (<strong>string</strong>) <em>(optionnel)</em>,</li>
</ul>

<table><thead>
<tr>
<th>Valeur</th>
<th>Explication</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">general</code></td>
<td>Correspondant au menu &lsquo;Général&rsquo; du panel admin</td>
</tr>
<tr>
<td><code class="prettyprint">customisation</code></td>
<td>Correspondant au menu &#39;Personnalisation&rsquo; du panel admin</td>
</tr>
<tr>
<td><code class="prettyprint">server</code></td>
<td>Correspondant au menu &#39;Serveur&rsquo; du panel admin</td>
</tr>
<tr>
<td><code class="prettyprint">other</code> / <code class="prettyprint">default</code></td>
<td>Correspondant au menu &#39;Autres&rsquo; du panel admin</td>
</tr>
</tbody></table>

<ul>
<li><code class="prettyprint">admin_name</code> : si votre plugin a besoin de fichiers pour l’administrer, le nom du lien dans le panel admin (<strong>string</strong>),</li>
<li><code class="prettyprint">admin_icon</code> : si votre plugin a besoin de fichiers pour l’administrer, le nom de l&#39;icone FontAwesome qui doit précéder le nom de l&#39;onglet (<strong>string</strong>) <em>(optionnel)</em>,</li>
<li><code class="prettyprint">admin_route</code> : si votre plugin a besoin de fichiers pour l’administrer, la route du controller admin (<strong>string</strong>),</li>
<li><code class="prettyprint">version</code> : la version de votre plugin (<strong>double</strong>),</li>
<li><code class="prettyprint">apiID</code> : l’ID du plugin, ce champ est à remplir par la valeur -1 <em>(sera automatiquement rempli après)</em>,</li>
<li><code class="prettyprint">useEvents</code> : si votre plugin utilise les événements disponible sur le CMS (<strong>boolean</strong>),</li>
<li><code class="prettyprint">permissions</code> : les permissions de votre plugin (voir plus tard) (<strong>array</strong>)</li>
</ul>

<h3 id="les-sous-menu-du-panel-admin">Les sous-menu du panel admin</h3>

<p>Vous pouvez, si vous le souhaitez, avoir un menu au niveau du panel admin avec des sous-liens (comme pour la boutique). Pour ceci, il vous suffit d&#39;ajouter la clé <code class="prettyprint">admin_menus</code> dans la configuration du plugin juste après <code class="prettyprint">admin_icon</code> (et donc la clé <code class="prettyprint">admin_route</code> devient optionnelle).</p>

<blockquote>
<p>Associez-lui comme valeur un tableau avec vos sous-liens, comme ceci par exemple :</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"NAME"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"slug"</span><span class="p">:</span><span class="s2">"SLUG"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nav"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_group_menu"</span><span class="p">:</span><span class="s2">"customisation"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_name"</span><span class="p">:</span><span class="s2">"Boutique"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_icon"</span><span class="p">:</span><span class="s2">"shopping-cart"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin_menus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gérer les articles"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shopping-basket"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/admin/shop"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHOP__ADMIN_MANAGE_ITEMS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gérer les promotions"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"percent"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/admin/shop/shop/vouchers"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHOP__ADMIN_MANAGE_VOUCHERS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gérer les paiements"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit-card"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/admin/shop/payment"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"permission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHOP__ADMIN_MANAGE_PAYMENT"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"author"</span><span class="p">:</span><span class="s2">"AUTHOR"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="s2">"0.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"apiID"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"useEvents"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"permissions"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"available"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"default"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"0"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"2"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requirements"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"CMS"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 1.1.0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>La clé <code class="prettyprint">permission</code> dans chaque lien est optionnelle, elle permet d&#39;afficher le lien seulement si la permission est accordée au groupe de l&#39;utilisateur.</p>
</blockquote>

<h2 id="les-tables-sql">Les tables SQL</h2>

<p>Les tables dont vous avez besoin pour votre plugin vont être générées automatiquement par un shell.
Dans un premier temps, toutes les tables de votre plugin doivent être préfixées par le nom de votre plugin.
Par exemple, pour le plugin Shop les tables doivent être préfixés par <strong>shop__</strong>.</p>

<p>Pour générer vos tables automatiquement dans un schema (qui sera <strong>indispensable</strong> pour avoir un plugin valide) il vous faut vous rendre sur le SSH de votre serveur dédié/VPS/ordinateur pour pouvoir utiliser la console de CakePHP. Il vous faut ensuite vous rendre dans le dossier contenant les fichiers du CMS puis, il vous faudra taper
<code class="prettyprint">app/Console/cake schema generate plugin-shop</code>
Un fichier <em>schema.php</em> sera automatiquement créé dans le dossier SQL de votre plugin.</p>

<p>Si vous ne pouvez pas accéder à la console de CakePHP, vous pouvez toujours créer votre fichier <em>SQL/schema.php</em> <strong>manuellement</strong>.</p>

<blockquote>
<p>Vous devez commençer le fichier comme ceci</p>
</blockquote>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">ShopAppSchema</span> <span class="k">extends</span> <span class="nx">CakeSchema</span> <span class="p">{</span>

    <span class="k">public</span> <span class="nv">$file</span> <span class="o">=</span> <span class="s1">'schema.php'</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">before</span><span class="p">(</span><span class="nv">$event</span> <span class="o">=</span> <span class="k">array</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">after</span><span class="p">(</span><span class="nv">$event</span> <span class="o">=</span> <span class="k">array</span><span class="p">())</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Il vous faut ensuite suivre la documentation <a href="http://book.cakephp.org/2.0/fr/console-and-shells/schema-management-and-migrations.html#ecrire-un-schema-cakephp-a-la-main">ici</a></p>
</blockquote>

<h2 id="callbacks">Callbacks</h2>

<p>Les <strong>callbacks</strong> sont des fonctions appelées automatiquement par le CMS lors de certaines actions.</p>

<p>Vous pouvez, si vous le souhaitez, créer un fichier <strong>MainComponent.php</strong> dans le dossier <code class="prettyprint">Controller/Component</code> de votre plugin.</p>

<blockquote>
<p>Dans ce fichier vous pouvez y ajouter :</p>
</blockquote>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">MainComponent</span> <span class="k">extends</span> <span class="nx">Object</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">onEnable</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">onDisable</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>

<p>Ces fonctions <strong>onEnable</strong> et <strong>onDisable</strong> seront <strong>automatiquement</strong> appelées par le CMS lors de l’<strong>installation</strong>, l’<strong>activation</strong> <em>(pour le onEnable)</em>, et pour la <strong>désinstallation</strong> et la <strong>désactivation</strong> <em>(pour le onDisable)</em> du plugin.</p>

<h2 id="fonctions-disponibles">Fonctions disponibles</h2>

<p><em>Toutes les fonctions/variables présentes ici, sont celles du <strong>EyPluginComponent</strong>.</em></p>

<h3 id="fonctions">Fonctions</h3>

<p>Tout comme les variables, certaines méthodes/fonctions sont disponibles pour vous permettre d’intéragir avec les plugins installés.
Tout d’abord vous avez la fonction <strong>loadPlugins()</strong> qui vous retournera tout comme la variable <strong>$pluginsLoaded</strong> (voir ci-dessous) les plugins chargés et installés, cette méthode/fonction vous donne simplement les données à jour si celles-ci ont été modifiées depuis le chargement du Component des plugins.</p>

<p>Vous avez ensuite la fonction <strong>getPluginConfig($slug)</strong> qui vous retourne le JSON de la configuration d’un plugin. Vous devez <strong>spécifier</strong> le <strong>slug du plugin</strong>, par exemple, pour Boutique c’est Shop.</p>

<p>Vous pouvez savoir si un plugin est installé avec <strong>isInstalled(<em>$id</em>)</strong>, qui retourne un <strong>boolean</strong>, sachant que <em>$id</em> est l’ID au format <em>auteur.nom.apiID</em>.</p>

<p>Vous pouvez rechercher un plugin avec différentes fonctions :</p>

<ul>
<li><strong>findPluginsByName(<em>$name</em>)</strong></li>
<li><strong>findPluginBySlug(<em>$slug</em>)</strong></li>
<li><strong>findPluginByApiID(<em>$apiid</em>)</strong></li>
<li><strong>findPluginByID(<em>$id</em>)</strong></li>
<li><strong>findPluginsByAuthor(<em>$author</em>)</strong></li>
</ul>

<p>Ces fonctions vous retourneront soit <strong>un objet</strong> contenant les données du/des plugin(s) trouvé(s) (selon la fonction) avec comme clé l’ID du plugin, soit un <strong>objet vide</strong> si aucun plugin ne correspond à la recherche.</p>

<h3 id="variables">Variables</h3>

<p>Les plugins sont chargés dès le chargement de votre site, en effet le CMS <strong>installe automatiquement</strong> les plugins qui sont valides dans le dossier <em>/app/Plugin/</em> et qui ne sont pas encore présents dans la base de données. Et celui-ci <strong>supprime</strong> aussi <strong>automatiquement</strong> les plugins qui sont encore en base de données mais plus dans le dossier.</p>

<p>Après ces opérations effectuées, le CMS <strong>rafraichi les permissions</strong> (pour pouvoir supprimer/ajouter les permissions des plugins installés/supprimés).
Une fois cela fait, vous pouvez accèder à une variable automatiquement initialisée nommée <strong>$pluginsLoaded</strong>. Celle-ci contient les différents plugins chargés et installés en base de données.</p>

<blockquote>
<p>Vous pouvez l’utilisez comme ceci :</p>
</blockquote>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
<span class="nx">debug</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">EyPlugin</span><span class="o">-&gt;</span><span class="na">pluginsLoaded</span><span class="p">);</span> <span class="c1">// Dans un controller
</span></code></pre>

<blockquote>
<p>Ce qui retournera :</p>
</blockquote>
<pre class="highlight php"><code>object(stdClass) {
  eywek.support.2 =&gt; object(stdClass) {
      name =&gt; 'Support'
      slug =&gt; 'support'
      nav =&gt; true
      admin =&gt; false
      author =&gt; 'Eywek'
      version =&gt; '0.2.0'
      apiID =&gt; (int) 2
      useEvents =&gt; false
      permissions =&gt; object(stdClass) {
          available =&gt; array(
              (int) 0 =&gt; 'POST_TICKET',
              (int) 1 =&gt; 'VIEW_TICKETS',
              (int) 2 =&gt; 'VIEW_ALL_TICKETS',
              (int) 3 =&gt; 'DELETE_ALL_TICKETS',
              (int) 4 =&gt; 'DELETE_HIS_TICKET',
              (int) 5 =&gt; 'RESOLVE_HIS_TICKET',
              (int) 6 =&gt; 'RESOLVE_ALL_TICKETS',
              (int) 7 =&gt; 'SHOW_TICKETS_ANWSERS',
              (int) 8 =&gt; 'REPLY_TO_HIS_TICKETS',
              (int) 9 =&gt; 'REPLY_TO_ALL_TICKETS'
          )
          default =&gt; object(stdClass) {
              0 =&gt; array(
                  (int) 0 =&gt; 'POST_TICKET',
                  (int) 1 =&gt; 'VIEW_TICKETS',
                  (int) 2 =&gt; 'DELETE_HIS_TICKET',
                  (int) 3 =&gt; 'RESOLVE_HIS_TICKET',
                  (int) 4 =&gt; 'SHOW_TICKETS_ANWSERS',
                  (int) 5 =&gt; 'REPLY_TO_HIS_TICKETS'
              )
              2 =&gt; array(
                  (int) 0 =&gt; 'POST_TICKET',
                  (int) 1 =&gt; 'VIEW_TICKETS',
                  (int) 2 =&gt; 'DELETE_HIS_TICKET',
                  (int) 3 =&gt; 'RESOLVE_HIS_TICKET',
                  (int) 4 =&gt; 'SHOW_TICKETS_ANWSERS',
                  (int) 5 =&gt; 'REPLY_TO_HIS_TICKETS'
              )
          }
      }
      tables =&gt; array(
          (int) 0 =&gt; 'support__tickets',
          (int) 1 =&gt; 'support__reply_tickets'
      )
  }
  eywek.shop.1 =&gt; object(stdClass) {
      name =&gt; 'Boutique'
      slug =&gt; 'shop'
      nav =&gt; true
      admin =&gt; false
      author =&gt; 'Eywek'
      version =&gt; '0.3.1'
      apiID =&gt; (int) 1
      useEvents =&gt; false
      permissions =&gt; object(stdClass) {
          available =&gt; array(
              (int) 0 =&gt; 'CREDIT_ACCOUNT',
              (int) 1 =&gt; 'CAN_BUY'
          )
          default =&gt; object(stdClass) {
              0 =&gt; array(
                  (int) 0 =&gt; 'CREDIT_ACCOUNT',
                  (int) 1 =&gt; 'CAN_BUY'
              )
              2 =&gt; array(
                  (int) 0 =&gt; 'CREDIT_ACCOUNT',
                  (int) 1 =&gt; 'CAN_BUY'
              )
          }
      }
      tables =&gt; array(
          (int) 0 =&gt; 'shop__items',
          (int) 1 =&gt; 'shop__categories',
          (int) 2 =&gt; 'shop__vouchers',
          (int) 3 =&gt; 'shop__paypals',
          (int) 4 =&gt; 'shop__paysafecards',
          (int) 5 =&gt; 'shop__paysafecard_messages',
          (int) 6 =&gt; 'shop__starpasses'
      )
  }
}
</code></pre>

<p>Les plugins sont différenciés avec un <strong>ID</strong> propre à eux-même qui se compose comme ceci : <em>auteur.slug.apiID</em> où le slug est le nom du dossier de votre plugin.</p>

<p>Vous avez aussi accès aux variables <strong>$pluginsInFolder</strong> et <strong>$pluginsInDB</strong> qui vous retournent un array des plugins contenus dans leurs dossiers ou en base de données (donc installés).
Ces listes <strong>ne sont pas rafraîchies</strong> après la suppression et/ou installation de nouveaux plugins. Il y a donc de fortes chances que celles-ci ne soient pas à jour.</p>

<h2 id="utiliser-les-events">Utiliser les events</h2>

<p>Dans la config.json du plugin, passez <strong>useEvents</strong> à <strong>true</strong>.</p>

<p>Pour créer un <strong>écouteur</strong> <em>(Listener)</em>, il vous faut créer un fichier dans le dossier <em>/Event/</em> de votre plugin. Le fichier doit être appelé de la manière suivante <em>{PLUGIN_NAME}{NOM}EventListener.php</em> (préfixé par le slug de votre plugin).</p>

<blockquote>
<p>Exemple: ShopBuyEventListener
Et son contenu doit être comme ceci :</p>
</blockquote>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
  <span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">'CakeEventListener'</span><span class="p">,</span> <span class="s1">'Event'</span><span class="p">);</span>

  <span class="k">class</span> <span class="err">{</span><span class="nc">PLUGIN_NAME</span><span class="p">}{</span><span class="nx">NOM</span><span class="p">}</span><span class="nx">EventListener</span> <span class="k">implements</span> <span class="nx">CakeEventListener</span> <span class="p">{</span>

    <span class="k">private</span> <span class="nv">$controller</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$request</span><span class="p">,</span> <span class="nv">$response</span><span class="p">,</span> <span class="nv">$controller</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">controller</span> <span class="o">=</span> <span class="nv">$controller</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">implementedEvents</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">array</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
</code></pre>

<blockquote>
<p>Pour écouter un event il vous faut l&#39;ajouter dans l&#39;array retourné par la fonction <strong>implementedEvents()</strong> avec votre fonction comme valeur. Et il vous faut ensuite créer votre fonction.
Exemple :</p>
</blockquote>
<pre class="highlight php"><code><span class="cp">&lt;?php</span>
  <span class="nx">App</span><span class="o">::</span><span class="na">uses</span><span class="p">(</span><span class="s1">'CakeEventListener'</span><span class="p">,</span> <span class="s1">'Event'</span><span class="p">);</span>

  <span class="k">class</span> <span class="nc">NAMEEventListener</span> <span class="k">implements</span> <span class="nx">CakeEventListener</span> <span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">implementedEvents</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">array</span><span class="p">(</span>
          <span class="s1">'requestPage'</span> <span class="o">=&gt;</span> <span class="s1">'mafonction'</span>
        <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">mafonction</span><span class="p">(</span><span class="nv">$event</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>
  <span class="p">}</span>
</code></pre>

<h3 id="liste-des-events-disponibles">Liste des events disponibles</h3>

<h3 id="global">Global</h3>

<ul>
<li><strong>requestPage</strong> : appelé lors de chaque requête sans données particulières.</li>
<li><strong>onPostRequest</strong> : appelé lors d’une requête POST sans données particulières.</li>
<li><strong>onLoadPage</strong> : appelé lors de chaque chargement de page dans le beforeRender sans données particulières.</li>
<li><strong>onLoadAdminPanel</strong> : appelé lors de chaque chargement de page admin (prefix) dans le beforeRender sans données particulières.</li>
</ul>

<h3 id="fonction-particuli-re">Fonction particulière</h3>

<ul>
<li><strong>beforeEncodePassword</strong> : appelé avant chaque encodage de mot de passe avec le pseudo et le mot de passe en données.</li>
<li><strong>beforeSendMail</strong> : appelé avant chaque envoi d’email avec le message et la configuration en données.</li>
<li><strong>beforeUploadImage</strong> : appelé avant chaque upload d’image avec la requête et le nom de l’image voulu en données.</li>
</ul>

<h3 id="news">News</h3>

<ul>
<li><strong>beforeAddComment</strong> : appelé avant que le commentaire ne soit enregistré avec le contenu, l’ID de la news et les infos de l’utilisateur en données.</li>
<li><strong>beforeLike</strong> : appelé avant que le like ne soit enregistré avec l’ID de la news et les infos de l’utilisateur en données.</li>
<li><strong>beforeDislike</strong> : appelé avant que le like ne soit supprimé avec l’ID de la news et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteComment</strong> : appelé avant que le commentaire ne soit supprimé avec l’ID du commentaire, l’ID de la news et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteNews</strong> : appelé avant que la news ne soit supprimé avec l’ID de la news et les infos de l’utilisateur en données.</li>
<li><strong>beforeAddNews</strong> : appelé avant que la news ne soit enregistré avec le contenu de la requête et les infos de l’utilisateur en données.</li>
<li><strong>beforeEditNews</strong> : appelé avant que la news ne soit enregistré avec le contenu de la requête, l’ID de la news et les infos de l’utilisateur en données.</li>
</ul>

<h3 id="user">User</h3>

<ul>
<li><strong>onLogin</strong> : appelé à chaque login avec l’utilisateur et register (boolean) comme données.</li>
<li><strong>beforeRegister</strong> : appelé avant l’enregistrement d’un utilisateur (après la validation) avec les données de la requête comme données.</li>
<li><strong>beforeConfirmAccount</strong> : appelé avant la confirmation en base de donnée de l’utilisateur avec l’ID de l’utilisateur et manual si confirmé par un administrateur comme données.</li>
<li><strong>beforeSendResetPassMail</strong> : appelé avant l’envoi de l’email permettant la réinitialisation du mot de passe avec l’ID de l’utilisateur et clé de reset comme données</li>
<li><strong>beforeResetPassword</strong> : appelé avant l’enregistrement du nouveau mot de passe avec l’ID de l’utilisateur et le nouveau mot de passe comme données.</li>
<li><strong>onLogout</strong> : appelé pendant la déconnexion avec la session “user” comme données.</li>
<li><strong>beforeUpdatePassword</strong> : appelé avant l’enregistrement du nouveau mot de passe avec l’utilisateur et le nouveau mot de passe encodé comme données.</li>
<li><strong>beforeUpdateEmail</strong> : appelé avant l’enregistrement du nouvel email avec l’utilisateur et le nouveau email comme données.</li>
<li><strong>beforeSendPoints</strong> : appelé avant l’enregistrement de la transaction avec l’utilisateur, le nouveau solde de l’utilisateur, à qui sont transféré les points et combien comme données.</li>
<li><strong>beforeEditUser</strong> : appelé avant que les données ne soit enregistrées avec l’ID de l’utilisateur, les données et <code class="prettyprint">password_updated</code> comme données.</li>
<li><strong>beforeDeleteUser</strong> : appelé avant que l’utilisateur ne soit supprimé avec ses informations comme données.</li>
</ul>

<h3 id="plugin-shop">[PLUGIN] Shop</h3>

<ul>
<li><strong>onBuy</strong> : appelé à chaque achat avant tout enregistrement avec les articles, le prix total et les infos de l’user comme données.</li>
<li><strong>beforeEditItem</strong> : appelé avant que les modifications de l’article ne soit enregistrées avec les infos et l’utilisateur en données.</li>
<li><strong>beforeAddItem</strong> : appelé avant que les modifications de l’article ne soit enregistrées avec les infos et l’utilisateur en données.</li>
<li><strong>beforeAddCategory</strong> : appelé avant l’enregistrement de la catégorie avec le nom de la catégorie et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteItem</strong> : appelé avant la suppression de l’article avec l’ID de l’article et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteCategory</strong> : appelé avant la suppression de la catégorie avec l’ID de la catégorie et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeletePaypalOffer</strong> : appelé avant la suppression de l’offre PayPal avec l’ID de l’offre et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteStarpassOffer</strong> : appelé avant la suppression de l’offre StarPass avec l’ID de l’offre et les infos de l’utilisateur en données.</li>
<li><strong>beforeAddVoucher</strong> : appelé avant l’enregistrement du code promo avec les données et les infos de l’utilisateur en données.</li>
<li><strong>beforeDeleteVoucher</strong> : appelé avant la suppression du code promo avec l’ID du code et les infos de l’utilisateur en données.</li>
</ul>

<h3 id="plugin-vote">[PLUGIN] Vote</h3>

<ul>
<li><strong>onVote</strong> : appelé pendant le vote (après l’enregistrement du vote, avant les récompenses) avec le choix du moyen de récompense (now/later), le site, la config et les infos de l’utilisateur en données.</li>
<li><strong>beforeReceiveRewards</strong> : appelé avant le gain des récompenses avec les récompenses, le type et les infos de l’utilisateur en données.</li>
<li><strong>beforeGetWaitingReward</strong> : appelé avant que la récompense en attente ne soit donnée avec l’utilisateur en données.</li>
<li><strong>beforeResetVotes</strong> : appelé avant que tous les votes ne soit rénitialisés avec les infos de l’utilisateur en données.</li>
</ul>

<h2 id="utiliser-les-modules">Utiliser les modules</h2>

<h3 id="c-39-est-quoi">C&#39;est quoi ?</h3>

<p>Les modules permettent aux développeurs de plugins d&#39;ajouter du <strong>code HTML</strong>, <strong>code PHP</strong>, etc&hellip; facilement depuis des <strong>pages du CMS</strong>.</p>

<h3 id="liste-des-modules">Liste des modules</h3>

<p>Les modules disponibles sont :</p>

<ul>
<li><code class="prettyprint">user_profile</code> <em>profil d&#39;utilisateur</em></li>
<li><code class="prettyprint">user_profile_messages</code> <em>profil d&#39;utilisateur (haut de page)</em></li>
<li><code class="prettyprint">admin_user_edit</code> <em>modification admin d&#39;un utilisateur (bas de page)</em></li>
<li><code class="prettyprint">admin_user_edit_form</code> <em>modification admin d&#39;un utilisateur (dans le formulaire)</em></li>
<li><code class="prettyprint">home</code> <em>accueil</em></li>
<li><code class="prettyprint">news</code> <em>page affichant une news</em></li>
</ul>

<h3 id="comment-les-utiliser">Comment les utiliser ?</h3>

<p>Pour utiliser un module dans votre <strong>plugin</strong>, il vous suffit de créer un dossier <em>/Modules/</em> dans le dossier de votre plugin. Il vous faut ensuite <strong>créer</strong> un fichier nommé par le <strong>nom du module</strong> que vous voulez utiliser et avec l&#39;extension <strong>.ctp</strong>.</p>

<p>Par exemple pour utiliser le module <em>user_profile</em> il vous faut créer le fichier <em>/Modules/user_profile.ctp</em>.</p>

<p>Dans ce fichier, vous pouvez ajouter le code que vous souhaitez, <strong>HTML</strong>, <strong>PHP</strong> ou encore <strong>JS</strong> ou <strong>CSS</strong>.</p>

          <h1 id="cr-er-des-th-mes">Créer des thèmes</h1>

<h2 id="introduction">Introduction</h2>

<p>Un thème, c’est des fichiers qui sont ajoutés à votre CMS pour transformer l&#39;apparence de celui-ci. Différents thèmes “officiels” sont déjà disponibles sur le site de MineWeb. D’autres peuvent être développés par la communauté et c’est le but de ce tutoriel.</p>

<p>Il faut savoir que les thèmes sont une couche supplémentaire, c&#39;est-à-dire que si votre thème ne s&#39;occupe pas d&#39;une page du site, c&#39;est le thème par défaut qui prendra la relève.</p>

<aside class="alert alert-info">Il est important et même presque indispensable d'avoir des connaissances en HTML/CSS voire JS et PHP pour pouvoir faire son propre thème.</aside>

<h2 id="cr-ation-des-dossiers-amp-fichiers">Création des dossiers &amp; fichiers</h2>

<p>Dans un premier temps, il va falloir créer le dossier de votre thème, ce dossier doit être créé dans le dossier <code class="prettyprint">app/View/Themed/</code>. Le nom du dossier doit être le nom de votre thème. Par exemple si je veux créer un thème de démonstration, je vais l’appeler : Demo (évitez les accents, les espaces et les tirets, essayez d&#39;utiliser des mots anglais pour le nom du dossier).</p>

<p>Une fois ce dossier créé, il faut créer différents autres dossiers et fichiers :</p>

<ul>
<li><code class="prettyprint">Config/</code></li>
<li><code class="prettyprint">Layouts/</code></li>
<li><code class="prettyprint">webroot/</code>

<ul>
<li><code class="prettyprint">css/</code></li>
<li><code class="prettyprint">js/</code></li>
<li><code class="prettyprint">img/</code></li>
</ul></li>
</ul>

<p>C’est tout pour les dossiers, il nous reste maintenant encore des fichiers à créer tels que :</p>

<ul>
<li><code class="prettyprint">Config/config.json</code></li>
</ul>

<h2 id="utilisation-de-la-configuration">Utilisation de la configuration</h2>

<p>Pour que votre thème soit valide, celui-ci doit contenir un fichier <em>config.json</em> dans le dossier <em>Config/</em> du thème. Ce fichier doit contenir des informations bien précises au format JSON.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"apiID"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nt">"supported"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Vous allez devoir configurer les informations les plus importantes.
Tout d&#39;abord le <em>name</em> qui est le nom de votre thème, vous pouvez à cet endroit écrire le nom de votre thème en français, avec des accents, espaces ou autre si vous le souhaitez. Ce nom sera affiché sur le panel admin du CMS. (exemple : Démonstration).
Après, il faut configurer le <em>slug</em>, il faut ici insérer le nom du dossier du thème précédemment choisi (exemple : Demo).
Pour la colonne <em>author</em>, mettez ici votre pseudo.
Pour la <em>version</em> du thème, la version doit être au format X.Y.Z comme expliqué <a href="http://semver.org">ici</a>.
Pour <em>apiID</em>, laissez ceci à 0, ne vous en souciez pas, il sera automatiquement rempli quand vous soumettrez votre thème au market de mineweb.org.
Ne vous occupez pas non plus de <em>configurations</em> et <em>supported</em>, nous verrons cela plus tard.</p>

<h2 id="modifier-la-disposition-globale-du-site">Modifier la disposition globale du site</h2>

<p>Nous allons dans cette étape voir comment modifier la disposition du site, tous les éléments qui seront affichés sur chaque page (head, footer&hellip;).
Pour modifier ceci, il vous faut créer un fichier <em>default.ctp</em> dans le dossier <em>Layouts</em>.</p>

<aside class="alert alert-info">A savoir que les fichiers de vue (modification de la structure HTML) ont tous comme extension **.ctp** et non **.html** ou **.php** mais vous pouvez quand même y insérer de l'HTML ou du PHP.</aside>

<p>Pour le contenu du fichier <em>default.ctp</em> vous pouvez prendre exemple sur les thèmes déjà existants ou sur le thème par défaut (le fichier <em>default.ctp</em> se trouverait alors dans <em>/app/View/Layouts/default.ctp</em>).
Certaines parties de code contenues dans le <em>default.ctp</em> doivent être conservées, comme par exemple ceci en fin de page :</p>
<pre class="highlight html"><code><span class="cp">&lt;?= $this-&gt;Html-&gt;script('app.js') ?&gt;</span>
<span class="cp">&lt;?= $this-&gt;Html-&gt;script('form.js') ?&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="c1">// Config FORM/APP.JS</span>

<span class="kd">var</span> <span class="nx">LIKE_URL</span> <span class="o">=</span> <span class="s2">"&lt;?= $this-&gt;Html-&gt;url(array('controller' =&gt; 'news', 'action' =&gt; 'like')) ?&gt;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">DISLIKE_URL</span> <span class="o">=</span> <span class="s2">"&lt;?= $this-&gt;Html-&gt;url(array('controller' =&gt; 'news', 'action' =&gt; 'dislike')) ?&gt;"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">LOADING_MSG</span> <span class="o">=</span> <span class="s2">"&lt;?= $Lang-&gt;get('GLOBAL__LOADING') ?&gt;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">ERROR_MSG</span> <span class="o">=</span> <span class="s2">"&lt;?= $Lang-&gt;get('GLOBAL__ERROR') ?&gt;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">INTERNAL_ERROR_MSG</span> <span class="o">=</span> <span class="s2">"&lt;?= $Lang-&gt;get('ERROR__INTERNAL_ERROR') ?&gt;"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">FORBIDDEN_ERROR_MSG</span> <span class="o">=</span> <span class="s2">"&lt;?= $Lang-&gt;get('ERROR__FORBIDDEN') ?&gt;"</span>
<span class="kd">var</span> <span class="nx">SUCCESS_MSG</span> <span class="o">=</span> <span class="s2">"&lt;?= $Lang-&gt;get('GLOBAL__SUCCESS') ?&gt;"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">CSRF_TOKEN</span> <span class="o">=</span> <span class="s2">"&lt;?= $csrfToken ?&gt;"</span><span class="p">;</span>
<span class="nt">&lt;/script&gt;</span>

<span class="cp">&lt;?php if(isset($google_analytics) &amp;&amp; !empty($google_analytics)) { ?&gt;</span>
  <span class="nt">&lt;script&gt;</span>
    <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">){</span><span class="nx">i</span><span class="p">[</span><span class="s1">'GoogleAnalyticsObject'</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">||</span><span class="kd">function</span><span class="p">(){</span>
    <span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">||</span><span class="p">[]).</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span>
    <span class="nx">m</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">)</span>
    <span class="p">})(</span><span class="nb">window</span><span class="p">,</span><span class="nb">document</span><span class="p">,</span><span class="s1">'script'</span><span class="p">,</span><span class="s1">'//www.google-analytics.com/analytics.js'</span><span class="p">,</span><span class="s1">'ga'</span><span class="p">);</span>

    <span class="nx">ga</span><span class="p">(</span><span class="s1">'create'</span><span class="p">,</span> <span class="s1">'&lt;?= $google_analytics ?&gt;'</span><span class="p">,</span> <span class="s1">'auto'</span><span class="p">);</span>
    <span class="nx">ga</span><span class="p">(</span><span class="s1">'send'</span><span class="p">,</span> <span class="s1">'pageview'</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="cp">&lt;?php } ?&gt;</span>
<span class="cp">&lt;?= (isset($configuration_end_code)) ? $configuration_end_code : '' ?&gt;</span>
</code></pre>

<blockquote>
<p>Vous pouvez trouver plus d&#39;informations sur la <a href="http://book.cakephp.org/2.0/fr/views.html">documentation officiel de CakePHP</a> (<a href="https://fr.wikipedia.org/wiki/Framework">Framework</a> PHP utilisé pour MineWeb).</p>
</blockquote>

<p>Ce code permet de faire fonctionner correctement MineWeb notamment les formulaires en AJAX ou d&#39;afficher les paramètres configurées sur le panel admin.</p>

<h2 id="modifier-les-diff-rentes-pages">Modifier les différentes pages</h2>

<p>Pour modifier les différentes pages du CMS il vous faudra créer un dossier avec le nom du Controller et un fichier <em>.ctp</em> avec le nom de l&#39;action. Si vous ne comprenez pas ou que vous ne pouvez pas vous embêter, prenez exemple sur des thèmes déjà fait (<em>app/View/Themed</em> si vous en avez téléchargé depuis votre panel admin) ou sur le thème de base (<em>app/View/</em>).</p>

<p>Par exemple, pour modifier la page affichée quand vous lisez une news/un article, il vous faudra créer un fichier <strong>News/index.ctp</strong> et y insérer le contenu que vous souhaitez selon le modèle du thème par défaut (pour utiliser les bonnes variables).</p>

<aside class="alert alert-info">Tout comme pour le <em>layout.ctp</em> vous pouvez vous référer à la <a href="http://book.cakephp.org/2.0/fr/views.html">documentation officielle de CakePHP</a>.</aside>

<h2 id="modifier-les-diff-rentes-pages-d-39-un-plugin">Modifier les différentes pages d&#39;un plugin</h2>

<p>Pour modifier les pages d&#39;un plugin il vous faudra tout comme à l&#39;étape précédente créer un dossier avec le nom du Controller et un fichier avec le nom de l&#39;action, <strong>sauf que</strong> il vous faudra placer ce dossier dans un autre dossier appelé <em>Plugin</em>.</p>

<aside class="alert alert-info">Pour créer vos fichiers/dossiers, référez-vous aux plugins en eux-mêmes, situés dans <em>app/Plugin/</em>, leurs fichiers <em>.ctp</em> seront dans le dossier <em>View</em>.</aside>

<p>Il est mieux aussi de <strong>préciser dans la configuration</strong> si vous <em>supporter</em> (stylisé) des plugins. Pour cela, revenons dans le fichier <em>Config/config.json</em> et nous allons toucher à <em>supported</em>. En effet, vous aller devoir écrire l&rsquo;<em>ID</em> du plugin et la ou les versions supportées. Par exemple :</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="nt">"supported"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"eywek.shop.1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Vous pouvez voir que l&rsquo;<em>ID</em> du plugin est spécial, en effet celui-ci se compose de la manière suivante : <strong>auteur.nomdudossier.apiID</strong>, vous pouvez donc trouver cet ID vous même facilement en regardant l&#39;intérieur du <em>config.json</em> d&#39;un plugin.
Pour la version, nous avons ici mis la version du plugin, mais vous pouvez très bien la faire précéder d&#39;un outil de comparaison. Comme ceci :</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="nt">"supported"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"eywek.shop.1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;= 1.0.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>À ce moment-là, vous indiquez que votre thème supporte uniquement les versions du plugin &ldquo;Boutique&rdquo; au dessus et incluant la 1.0.0.</p>

<h2 id="utiliser-des-fichiers-css-js-ou-images-personnalis-es">Utiliser des fichiers CSS, JS ou images personnalisées</h2>

<p>Il est utile quand vous créez un thème de pouvoir utiliser des fichiers CSS/JS personnalisés ou même des images.
Pour cela, il vous suffit de créer un dossier <em>webroot</em> contenant les sous-dossiers :</p>

<ul>
<li><code class="prettyprint">css</code></li>
<li><code class="prettyprint">js</code></li>
<li><code class="prettyprint">img</code></li>
</ul>

<p>C&#39;est donc dans ces dossiers que vous glisserez vos fichiers.
Pour pouvoir les inclure facilement, il vous suffit de faire ceci dans vos fichiers <em>.ctp</em> :</p>
<pre class="highlight php"><code><span class="cp">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">css</span><span class="p">(</span><span class="s1">'NomDuDossierDuTheme.votrefichier.css'</span><span class="p">)</span> <span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">script</span><span class="p">(</span><span class="s1">'NomDuDossierDuTheme.votrefichier.js'</span><span class="p">)</span> <span class="cp">?&gt;</span>
</code></pre>
<pre class="highlight php"><code><span class="cp">&lt;?=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Html</span><span class="o">-&gt;</span><span class="na">img</span><span class="p">(</span><span class="s1">'votreimage.ext'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'alt'</span> <span class="o">=&gt;</span> <span class="s1">'Ce que je veux'</span><span class="p">))</span> <span class="cp">?&gt;</span>
</code></pre>

<blockquote>
<p>Vous pouvez avoir plus d&#39;informations <a href="http://book.cakephp.org/2.0/fr/core-libraries/helpers/html.html">ici</a>.</p>
</blockquote>

<h2 id="la-personnalisation">La personnalisation</h2>

<aside class="alert alert-warning">En cours de rédaction&hellip; (vous pouvez vous référer au thème existant comme &ldquo;Universal&rdquo;)</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
